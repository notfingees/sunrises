from etherscan import Etherscan
import mysql.connector
from mysql.connector import errorcode
from web3 import Web3
import json

import os
import sys

contract_string = '''
{
  "_format": "hh-sol-artifact-1",
  "contractName": "ContractName",
  "sourceName": "contracts/strings.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "approved",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "Approval",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "operator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "name": "ApprovalForAll",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "Bought",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "Listed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "Transfer",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "approve",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "balanceOf",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "buy",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "newCost",
          "type": "uint256"
        }
      ],
      "name": "changeCost",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "str",
          "type": "string"
        }
      ],
      "name": "checkIfUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "delist_for_sale",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "getApproved",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getCost",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "getImage",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "getPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenID",
          "type": "uint256"
        }
      ],
      "name": "getString",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "operator",
          "type": "address"
        }
      ],
      "name": "isApprovedForAll",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "list_for_sale",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "str",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "mind_and_listNFT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "str",
          "type": "string"
        }
      ],
      "name": "mintNFT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "name",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "ownerOf",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "safeTransferFrom",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "_data",
          "type": "bytes"
        }
      ],
      "name": "safeTransferFrom",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "operator",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "name": "setApprovalForAll",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "symbol",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "tokenURI",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "transferFrom",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amt",
          "type": "uint256"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040526608e1bc9bf04000600c553480156200001c57600080fd5b506040518060400160405280600981526020017f546f6b656e4e616d6500000000000000000000000000000000000000000000008152506040518060400160405280600481526020017f53594d42000000000000000000000000000000000000000000000000000000008152508160009080519060200190620000a1929190620001b1565b508060019080519060200190620000ba929190620001b1565b505050620000dd620000d1620000e360201b60201c565b620000eb60201b60201c565b620002c6565b600033905090565b6000600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600860006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b828054620001bf9062000261565b90600052602060002090601f016020900481019282620001e357600085556200022f565b82601f10620001fe57805160ff19168380011785556200022f565b828001600101855582156200022f579182015b828111156200022e57825182559160200191906001019062000211565b5b5090506200023e919062000242565b5090565b5b808211156200025d57600081600090555060010162000243565b5090565b600060028204905060018216806200027a57607f821691505b6020821081141562000291576200029062000297565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6142f080620002d66000396000f3fe6080604052600436106101b75760003560e01c80638da5cb5b116100ec578063c87b56dd1161008a578063e757223011610064578063e757223014610660578063e985e9c51461069d578063f2fde38b146106da578063fb37e88314610703576101b7565b8063c87b56dd146105b6578063cfcc3e35146105f3578063d96a094a14610630576101b7565b8063ae78a913116100c6578063ae78a913146104f5578063b7c763b514610525578063b88d4fde14610562578063bd3e19d41461058b576101b7565b80638da5cb5b1461047657806395d89b41146104a1578063a22cb465146104cc576101b7565b80632ab8a298116101595780635cb85cd2116101335780635cb85cd2146103bc5780636352211e146103e557806370a0823114610422578063715018a61461045f576101b7565b80632ab8a2981461032d5780632e1a7d4d1461036a57806342842e0e14610393576101b7565b8063081812fc11610195578063081812fc14610261578063095ea7b31461029e57806323b872dd146102c75780632607aafa146102f0576101b7565b806301b71aec146101bc57806301ffc9a7146101f957806306fdde0314610236575b600080fd5b3480156101c857600080fd5b506101e360048036038101906101de9190612cf2565b610733565b6040516101f09190613a24565b60405180910390f35b34801561020557600080fd5b50610220600480360381019061021b9190612be2565b6108a6565b60405161022d9190613a24565b60405180910390f35b34801561024257600080fd5b5061024b610988565b6040516102589190613a3f565b60405180910390f35b34801561026d57600080fd5b5061028860048036038101906102839190612cc9565b610a1a565b60405161029591906139bd565b60405180910390f35b3480156102aa57600080fd5b506102c560048036038101906102c09190612ba6565b610a9f565b005b3480156102d357600080fd5b506102ee60048036038101906102e99190612aa0565b610bb7565b005b3480156102fc57600080fd5b5061031760048036038101906103129190612cc9565b610c17565b6040516103249190613a3f565b60405180910390f35b34801561033957600080fd5b50610354600480360381019061034f9190612cc9565b610c85565b6040516103619190613a24565b60405180910390f35b34801561037657600080fd5b50610391600480360381019061038c9190612cc9565b610dee565b005b34801561039f57600080fd5b506103ba60048036038101906103b59190612aa0565b610f2e565b005b3480156103c857600080fd5b506103e360048036038101906103de9190612cc9565b610f4e565b005b3480156103f157600080fd5b5061040c60048036038101906104079190612cc9565b610fd4565b60405161041991906139bd565b60405180910390f35b34801561042e57600080fd5b5061044960048036038101906104449190612a3b565b611086565b6040516104569190613de1565b60405180910390f35b34801561046b57600080fd5b5061047461113e565b005b34801561048257600080fd5b5061048b6111c6565b60405161049891906139bd565b60405180910390f35b3480156104ad57600080fd5b506104b66111f0565b6040516104c39190613a3f565b60405180910390f35b3480156104d857600080fd5b506104f360048036038101906104ee9190612b6a565b611282565b005b61050f600480360381019061050a9190612c75565b611298565b60405161051c9190613de1565b60405180910390f35b34801561053157600080fd5b5061054c60048036038101906105479190612cc9565b6112bb565b6040516105599190613a3f565b60405180910390f35b34801561056e57600080fd5b5061058960048036038101906105849190612aef565b6113a8565b005b34801561059757600080fd5b506105a061140a565b6040516105ad9190613de1565b60405180910390f35b3480156105c257600080fd5b506105dd60048036038101906105d89190612cc9565b611414565b6040516105ea9190613a3f565b60405180910390f35b3480156105ff57600080fd5b5061061a60048036038101906106159190612c34565b6114b9565b6040516106279190613a24565b60405180910390f35b61064a60048036038101906106459190612cc9565b6114ee565b6040516106579190613a24565b60405180910390f35b34801561066c57600080fd5b5061068760048036038101906106829190612cc9565b6117f4565b6040516106949190613de1565b60405180910390f35b3480156106a957600080fd5b506106c460048036038101906106bf9190612a64565b611867565b6040516106d19190613a24565b60405180910390f35b3480156106e657600080fd5b5061070160048036038101906106fc9190612a3b565b6118fb565b005b61071d60048036038101906107189190612c34565b6119f3565b60405161072a9190613de1565b60405180910390f35b600080821415610778576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161076f90613d41565b60405180910390fd5b61078183610fd4565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146107ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107e590613d61565b60405180910390fd5b6107f9600084610a9f565b816006600085815260200190815260200160002081905550336007600085815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f1ea45e30b31292f9d7c5d37d275b2feca555f13f47dce0fdea2f47e8852ecd788383604051610894929190613e25565b60405180910390a16001905092915050565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061097157507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b80610981575061098082611b69565b5b9050919050565b6060600080546109979061411f565b80601f01602080910402602001604051908101604052809291908181526020018280546109c39061411f565b8015610a105780601f106109e557610100808354040283529160200191610a10565b820191906000526020600020905b8154815290600101906020018083116109f357829003601f168201915b5050505050905090565b6000610a2582611bd3565b610a64576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5b90613be1565b60405180910390fd5b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b6000610aaa82610fd4565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610b1b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b1290613c61565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610b3a611c3f565b73ffffffffffffffffffffffffffffffffffffffff161480610b695750610b6881610b63611c3f565b611867565b5b610ba8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9f90613b61565b60405180910390fd5b610bb28383611c47565b505050565b610bc8610bc2611c3f565b82611d00565b610c07576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bfe90613cc1565b60405180910390fd5b610c12838383611dde565b505050565b606060006040518060400160405280601d81526020017f646174613a6170706c69636174696f6e2f6a736f6e3b6261736536342c000000815250905080610c5d846112bb565b604051602001610c6e92919061391d565b604051602081830303815290604052915050919050565b60008060066000848152602001908152602001600020541415610cdd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cd490613c41565b60405180910390fd5b610ce682610fd4565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610d53576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d4a90613a61565b60405180910390fd5b610d5e600083610a9f565b60066000838152602001908152602001600020600090556007600083815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690557f3ccb2ab6980b218b1dd4974b07365cd90a191e170c611da46262fecc208bd661826000604051610ddd929190613dfc565b60405180910390a160019050919050565b610df6611c3f565b73ffffffffffffffffffffffffffffffffffffffff16610e146111c6565b73ffffffffffffffffffffffffffffffffffffffff1614610e6a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e6190613c01565b60405180910390fd5b47811115610e7757600080fd5b6000610e816111c6565b73ffffffffffffffffffffffffffffffffffffffff1682604051610ea4906139a8565b60006040518083038185875af1925050503d8060008114610ee1576040519150601f19603f3d011682016040523d82523d6000602084013e610ee6565b606091505b5050905080610f2a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f2190613ce1565b60405180910390fd5b5050565b610f49838383604051806020016040528060008152506113a8565b505050565b610f56611c3f565b73ffffffffffffffffffffffffffffffffffffffff16610f746111c6565b73ffffffffffffffffffffffffffffffffffffffff1614610fca576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fc190613c01565b60405180910390fd5b80600c8190555050565b6000806002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141561107d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161107490613ba1565b60405180910390fd5b80915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156110f7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110ee90613b81565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b611146611c3f565b73ffffffffffffffffffffffffffffffffffffffff166111646111c6565b73ffffffffffffffffffffffffffffffffffffffff16146111ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111b190613c01565b60405180910390fd5b6111c46000612090565b565b6000600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6060600180546111ff9061411f565b80601f016020809104026020016040519081016040528092919081815260200182805461122b9061411f565b80156112785780601f1061124d57610100808354040283529160200191611278565b820191906000526020600020905b81548152906001019060200180831161125b57829003601f168201915b5050505050905090565b61129461128d611c3f565b8383612156565b5050565b6000806112a4846119f3565b90506112b08184610733565b508091505092915050565b60606112c682611bd3565b611305576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112fc90613c81565b60405180910390fd5b600b600083815260200190815260200160002080546113239061411f565b80601f016020809104026020016040519081016040528092919081815260200182805461134f9061411f565b801561139c5780601f106113715761010080835404028352916020019161139c565b820191906000526020600020905b81548152906001019060200180831161137f57829003601f168201915b50505050509050919050565b6113b96113b3611c3f565b83611d00565b6113f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113ef90613cc1565b60405180910390fd5b611404848484846122c3565b50505050565b6000600c54905090565b606060006040518060400160405280601d81526020017f646174613a6170706c69636174696f6e2f6a736f6e3b6261736536342c0000008152509050600061145b846112bb565b61146485610c17565b604051602001611475929190613958565b6040516020818303038152906040529050816114908261231f565b6040516020016114a192919061391d565b60405160208183030381529060405292505050919050565b6000600a826040516114cb9190613906565b908152602001604051809103902060009054906101000a900460ff169050919050565b60008060066000848152602001908152602001600020541415611546576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161153d90613c41565b60405180910390fd5b600660008381526020019081526020016000205434101561159c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161159390613ae1565b60405180910390fd5b60006007600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506000600660008581526020019081526020016000205490506007600085815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556006600085815260200190815260200160002060009055611644823386611dde565b60008273ffffffffffffffffffffffffffffffffffffffff168260405161166a906139a8565b60006040518083038185875af1925050503d80600081146116a7576040519150601f19603f3d011682016040523d82523d6000602084013e6116ac565b606091505b50509050806116f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116e790613dc1565b60405180910390fd5b7f3ccb2ab6980b218b1dd4974b07365cd90a191e170c611da46262fecc208bd6618583604051611721929190613e25565b60405180910390a1813411156117e9573373ffffffffffffffffffffffffffffffffffffffff1682346117549190614023565b604051611760906139a8565b60006040518083038185875af1925050503d806000811461179d576040519150601f19603f3d011682016040523d82523d6000602084013e6117a2565b606091505b505080915050806117e8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117df90613d81565b60405180910390fd5b5b809350505050919050565b6000806006600084815260200190815260200160002054141561184c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161184390613c41565b60405180910390fd5b60066000838152602001908152602001600020549050919050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b611903611c3f565b73ffffffffffffffffffffffffffffffffffffffff166119216111c6565b73ffffffffffffffffffffffffffffffffffffffff1614611977576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161196e90613c01565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156119e7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119de90613aa1565b60405180910390fd5b6119f081612090565b50565b6000600c54341015611a3a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a3190613d01565b60405180910390fd5b6000825111611a7e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a7590613ca1565b60405180910390fd5b611a87826114b9565b15611ac7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611abe90613da1565b60405180910390fd5b6000611ad360096124be565b9050611adf60096124cc565b82600b60008381526020019081526020016000209080519060200190611b0692919061285f565b506000600b600083815260200190815260200160002090506001600a82604051611b309190613941565b908152602001604051809103902060006101000a81548160ff021916908315150217905550611b5f33836124e2565b8192505050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b60008073ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16611cba83610fd4565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b6000611d0b82611bd3565b611d4a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d4190613b41565b60405180910390fd5b6000611d5583610fd4565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480611dc457508373ffffffffffffffffffffffffffffffffffffffff16611dac84610a1a565b73ffffffffffffffffffffffffffffffffffffffff16145b80611dd55750611dd48185611867565b5b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff16611dfe82610fd4565b73ffffffffffffffffffffffffffffffffffffffff1614611e54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e4b90613c21565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611ec4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ebb90613b01565b60405180910390fd5b6000600660008381526020019081526020016000205414611f1a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f1190613d21565b60405180910390fd5b611f258383836126b0565b611f30600082611c47565b6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611f809190614023565b925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611fd79190613f42565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b6000600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600860006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156121c5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016121bc90613b21565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516122b69190613a24565b60405180910390a3505050565b6122ce848484611dde565b6122da848484846126b5565b612319576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161231090613a81565b60405180910390fd5b50505050565b6060600082511415612342576040518060200160405280600081525090506124b9565b600060405180606001604052806040815260200161427b60409139905060006003600285516123719190613f42565b61237b9190613f98565b60046123879190613fc9565b905060006020826123989190613f42565b67ffffffffffffffff8111156123d7577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280601f01601f1916602001820160405280156124095781602001600182028036833780820191505090505b509050818152600183018586518101602084015b81831015612478576003830192508251603f8160121c168501518253600182019150603f81600c1c168501518253600182019150603f8160061c168501518253600182019150603f811685015182536001820191505061241d565b60038951066001811461249257600281146124a2576124ad565b613d3d60f01b60028303526124ad565b603d60f81b60018303525b50505050508093505050505b919050565b600081600001549050919050565b6001816000016000828254019250508190555050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415612552576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161254990613bc1565b60405180910390fd5b61255b81611bd3565b1561259b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161259290613ac1565b60405180910390fd5b6125a7600083836126b0565b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546125f79190613f42565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b505050565b60006126d68473ffffffffffffffffffffffffffffffffffffffff1661284c565b1561283f578373ffffffffffffffffffffffffffffffffffffffff1663150b7a026126ff611c3f565b8786866040518563ffffffff1660e01b815260040161272194939291906139d8565b602060405180830381600087803b15801561273b57600080fd5b505af192505050801561276c57506040513d601f19601f820116820180604052508101906127699190612c0b565b60015b6127ef573d806000811461279c576040519150601f19603f3d011682016040523d82523d6000602084013e6127a1565b606091505b506000815114156127e7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127de90613a81565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614915050612844565b600190505b949350505050565b600080823b905060008111915050919050565b82805461286b9061411f565b90600052602060002090601f01602090048101928261288d57600085556128d4565b82601f106128a657805160ff19168380011785556128d4565b828001600101855582156128d4579182015b828111156128d35782518255916020019190600101906128b8565b5b5090506128e191906128e5565b5090565b5b808211156128fe5760008160009055506001016128e6565b5090565b600061291561291084613e7f565b613e4e565b90508281526020810184848401111561292d57600080fd5b6129388482856140dd565b509392505050565b600061295361294e84613eaf565b613e4e565b90508281526020810184848401111561296b57600080fd5b6129768482856140dd565b509392505050565b60008135905061298d8161421e565b92915050565b6000813590506129a281614235565b92915050565b6000813590506129b78161424c565b92915050565b6000815190506129cc8161424c565b92915050565b600082601f8301126129e357600080fd5b81356129f3848260208601612902565b91505092915050565b600082601f830112612a0d57600080fd5b8135612a1d848260208601612940565b91505092915050565b600081359050612a3581614263565b92915050565b600060208284031215612a4d57600080fd5b6000612a5b8482850161297e565b91505092915050565b60008060408385031215612a7757600080fd5b6000612a858582860161297e565b9250506020612a968582860161297e565b9150509250929050565b600080600060608486031215612ab557600080fd5b6000612ac38682870161297e565b9350506020612ad48682870161297e565b9250506040612ae586828701612a26565b9150509250925092565b60008060008060808587031215612b0557600080fd5b6000612b138782880161297e565b9450506020612b248782880161297e565b9350506040612b3587828801612a26565b925050606085013567ffffffffffffffff811115612b5257600080fd5b612b5e878288016129d2565b91505092959194509250565b60008060408385031215612b7d57600080fd5b6000612b8b8582860161297e565b9250506020612b9c85828601612993565b9150509250929050565b60008060408385031215612bb957600080fd5b6000612bc78582860161297e565b9250506020612bd885828601612a26565b9150509250929050565b600060208284031215612bf457600080fd5b6000612c02848285016129a8565b91505092915050565b600060208284031215612c1d57600080fd5b6000612c2b848285016129bd565b91505092915050565b600060208284031215612c4657600080fd5b600082013567ffffffffffffffff811115612c6057600080fd5b612c6c848285016129fc565b91505092915050565b60008060408385031215612c8857600080fd5b600083013567ffffffffffffffff811115612ca257600080fd5b612cae858286016129fc565b9250506020612cbf85828601612a26565b9150509250929050565b600060208284031215612cdb57600080fd5b6000612ce984828501612a26565b91505092915050565b60008060408385031215612d0557600080fd5b6000612d1385828601612a26565b9250506020612d2485828601612a26565b9150509250929050565b612d3781614057565b82525050565b612d4681614069565b82525050565b6000612d5782613ef4565b612d618185613f0a565b9350612d718185602086016140ec565b612d7a8161420d565b840191505092915050565b612d8e816140cb565b82525050565b6000612d9f82613eff565b612da98185613f26565b9350612db98185602086016140ec565b612dc28161420d565b840191505092915050565b6000612dd882613eff565b612de28185613f37565b9350612df28185602086016140ec565b80840191505092915050565b60008154612e0b8161411f565b612e158186613f37565b94506001821660008114612e305760018114612e4157612e74565b60ff19831686528186019350612e74565b612e4a85613edf565b60005b83811015612e6c57815481890152600182019150602081019050612e4d565b838801955050505b50505092915050565b6000612e8a603d83613f26565b91507f796f7520617265206e6f7420746865206f776e6572206f66207468697320746f60008301527f6b656e2c20736f20796f752063616e6e6f742064652d6c6973742069740000006020830152604082019050919050565b6000612ef0600b83613f37565b91507f0922696d616765223a20220000000000000000000000000000000000000000006000830152600b82019050919050565b6000612f30603283613f26565b91507f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008301527f63656976657220696d706c656d656e74657200000000000000000000000000006020830152604082019050919050565b6000612f96602683613f26565b91507f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008301527f64647265737300000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000612ffc601c83613f26565b91507f4552433732313a20746f6b656e20616c7265616479206d696e746564000000006000830152602082019050919050565b600061303c601283613f26565b91507f696e73756666696369656e742076616c756500000000000000000000000000006000830152602082019050919050565b600061307c602483613f26565b91507f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008301527f72657373000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b60006130e2601983613f26565b91507f4552433732313a20617070726f766520746f2063616c6c6572000000000000006000830152602082019050919050565b6000613122602c83613f26565b91507f4552433732313a206f70657261746f7220717565727920666f72206e6f6e657860008301527f697374656e7420746f6b656e00000000000000000000000000000000000000006020830152604082019050919050565b6000613188603883613f26565b91507f4552433732313a20617070726f76652063616c6c6572206973206e6f74206f7760008301527f6e6572206e6f7220617070726f76656420666f7220616c6c00000000000000006020830152604082019050919050565b60006131ee602a83613f26565b91507f4552433732313a2062616c616e636520717565727920666f7220746865207a6560008301527f726f2061646472657373000000000000000000000000000000000000000000006020830152604082019050919050565b6000613254602983613f26565b91507f4552433732313a206f776e657220717565727920666f72206e6f6e657869737460008301527f656e7420746f6b656e00000000000000000000000000000000000000000000006020830152604082019050919050565b60006132ba602083613f26565b91507f4552433732313a206d696e7420746f20746865207a65726f20616464726573736000830152602082019050919050565b60006132fa602c83613f26565b91507f4552433732313a20617070726f76656420717565727920666f72206e6f6e657860008301527f697374656e7420746f6b656e00000000000000000000000000000000000000006020830152604082019050919050565b6000613360602083613f26565b91507f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726000830152602082019050919050565b60006133a0600c83613f37565b91507f7b0a09226e616d65223a202200000000000000000000000000000000000000006000830152600c82019050919050565b60006133e0602983613f26565b91507f4552433732313a207472616e73666572206f6620746f6b656e2074686174206960008301527f73206e6f74206f776e00000000000000000000000000000000000000000000006020830152604082019050919050565b6000613446601283613f26565b91507f746f6b656e206e6f7420666f722073616c6500000000000000000000000000006000830152602082019050919050565b6000613486600283613f37565b91507f220a0000000000000000000000000000000000000000000000000000000000006000830152600282019050919050565b60006134c6602183613f26565b91507f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008301527f72000000000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b600061352c601783613f26565b91507f546f6b656e494420646f6573206e6f74206578697374210000000000000000006000830152602082019050919050565b600061356c601683613f26565b91507f737472696e672063616e6e6f7420626520656d707479000000000000000000006000830152602082019050919050565b60006135ac600083613f1b565b9150600082019050919050565b60006135c6603183613f26565b91507f4552433732313a207472616e736665722063616c6c6572206973206e6f74206f60008301527f776e6572206e6f7220617070726f7665640000000000000000000000000000006020830152604082019050919050565b600061362c601e83613f26565b91507f7472616e73616374696f6e20646964206e6f7420676f207468726f75676800006000830152602082019050919050565b600061366c601683613f26565b91507f7061796d656e74206e6f742073756666696369656e74000000000000000000006000830152602082019050919050565b60006136ac604c83613f26565b91507f5468697320746f6b656e20697320757020666f722073616c652c206974206d7560008301527f73742062652064652d6c6973746564206265666f72652069742063616e20626560208301527f207472616e7366657272656400000000000000000000000000000000000000006040830152606082019050919050565b6000613738601f83613f26565b91507f7072696365206d7573742062652067726561746572207468616e207a65726f006000830152602082019050919050565b6000613778603883613f26565b91507f796f7520617265206e6f7420746865206f776e6572206f66207468697320746f60008301527f6b656e2c20796f752063616e206e6f742073656c6c20697400000000000000006020830152604082019050919050565b60006137de600283613f37565b91507f0a7d0000000000000000000000000000000000000000000000000000000000006000830152600282019050919050565b600061381e600d83613f26565b91507f726566756e64206661696c6564000000000000000000000000000000000000006000830152602082019050919050565b600061385e602383613f26565b91507f7468697320737472696e672068617320616c7265616479206265656e206d696e60008301527f74656400000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b60006138c4601283613f26565b91507f7472616e73616374696f6e206661696c656400000000000000000000000000006000830152602082019050919050565b613900816140c1565b82525050565b60006139128284612dcd565b915081905092915050565b60006139298285612dcd565b91506139358284612dcd565b91508190509392505050565b600061394d8284612dfe565b915081905092915050565b600061396382613393565b915061396f8285612dcd565b915061397a82613479565b915061398582612ee3565b91506139918284612dcd565b915061399c826137d1565b91508190509392505050565b60006139b38261359f565b9150819050919050565b60006020820190506139d26000830184612d2e565b92915050565b60006080820190506139ed6000830187612d2e565b6139fa6020830186612d2e565b613a0760408301856138f7565b8181036060830152613a198184612d4c565b905095945050505050565b6000602082019050613a396000830184612d3d565b92915050565b60006020820190508181036000830152613a598184612d94565b905092915050565b60006020820190508181036000830152613a7a81612e7d565b9050919050565b60006020820190508181036000830152613a9a81612f23565b9050919050565b60006020820190508181036000830152613aba81612f89565b9050919050565b60006020820190508181036000830152613ada81612fef565b9050919050565b60006020820190508181036000830152613afa8161302f565b9050919050565b60006020820190508181036000830152613b1a8161306f565b9050919050565b60006020820190508181036000830152613b3a816130d5565b9050919050565b60006020820190508181036000830152613b5a81613115565b9050919050565b60006020820190508181036000830152613b7a8161317b565b9050919050565b60006020820190508181036000830152613b9a816131e1565b9050919050565b60006020820190508181036000830152613bba81613247565b9050919050565b60006020820190508181036000830152613bda816132ad565b9050919050565b60006020820190508181036000830152613bfa816132ed565b9050919050565b60006020820190508181036000830152613c1a81613353565b9050919050565b60006020820190508181036000830152613c3a816133d3565b9050919050565b60006020820190508181036000830152613c5a81613439565b9050919050565b60006020820190508181036000830152613c7a816134b9565b9050919050565b60006020820190508181036000830152613c9a8161351f565b9050919050565b60006020820190508181036000830152613cba8161355f565b9050919050565b60006020820190508181036000830152613cda816135b9565b9050919050565b60006020820190508181036000830152613cfa8161361f565b9050919050565b60006020820190508181036000830152613d1a8161365f565b9050919050565b60006020820190508181036000830152613d3a8161369f565b9050919050565b60006020820190508181036000830152613d5a8161372b565b9050919050565b60006020820190508181036000830152613d7a8161376b565b9050919050565b60006020820190508181036000830152613d9a81613811565b9050919050565b60006020820190508181036000830152613dba81613851565b9050919050565b60006020820190508181036000830152613dda816138b7565b9050919050565b6000602082019050613df660008301846138f7565b92915050565b6000604082019050613e1160008301856138f7565b613e1e6020830184612d85565b9392505050565b6000604082019050613e3a60008301856138f7565b613e4760208301846138f7565b9392505050565b6000604051905081810181811067ffffffffffffffff82111715613e7557613e746141de565b5b8060405250919050565b600067ffffffffffffffff821115613e9a57613e996141de565b5b601f19601f8301169050602081019050919050565b600067ffffffffffffffff821115613eca57613ec96141de565b5b601f19601f8301169050602081019050919050565b60008190508160005260206000209050919050565b600081519050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600081905092915050565b6000613f4d826140c1565b9150613f58836140c1565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115613f8d57613f8c614151565b5b828201905092915050565b6000613fa3826140c1565b9150613fae836140c1565b925082613fbe57613fbd614180565b5b828204905092915050565b6000613fd4826140c1565b9150613fdf836140c1565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561401857614017614151565b5b828202905092915050565b600061402e826140c1565b9150614039836140c1565b92508282101561404c5761404b614151565b5b828203905092915050565b6000614062826140a1565b9050919050565b60008115159050919050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006140d6826140c1565b9050919050565b82818337600083830152505050565b60005b8381101561410a5780820151818401526020810190506140ef565b83811115614119576000848401525b50505050565b6000600282049050600182168061413757607f821691505b6020821081141561414b5761414a6141af565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b61422781614057565b811461423257600080fd5b50565b61423e81614069565b811461424957600080fd5b50565b61425581614075565b811461426057600080fd5b50565b61426c816140c1565b811461427757600080fd5b5056fe4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2fa2646970667358221220e0b740928063667d99a741a0319d7ff877f5d8982c2a148a14abcef1202b75bb64736f6c63430008000033",
  "deployedBytecode": "0x6080604052600436106101b75760003560e01c80638da5cb5b116100ec578063c87b56dd1161008a578063e757223011610064578063e757223014610660578063e985e9c51461069d578063f2fde38b146106da578063fb37e88314610703576101b7565b8063c87b56dd146105b6578063cfcc3e35146105f3578063d96a094a14610630576101b7565b8063ae78a913116100c6578063ae78a913146104f5578063b7c763b514610525578063b88d4fde14610562578063bd3e19d41461058b576101b7565b80638da5cb5b1461047657806395d89b41146104a1578063a22cb465146104cc576101b7565b80632ab8a298116101595780635cb85cd2116101335780635cb85cd2146103bc5780636352211e146103e557806370a0823114610422578063715018a61461045f576101b7565b80632ab8a2981461032d5780632e1a7d4d1461036a57806342842e0e14610393576101b7565b8063081812fc11610195578063081812fc14610261578063095ea7b31461029e57806323b872dd146102c75780632607aafa146102f0576101b7565b806301b71aec146101bc57806301ffc9a7146101f957806306fdde0314610236575b600080fd5b3480156101c857600080fd5b506101e360048036038101906101de9190612cf2565b610733565b6040516101f09190613a24565b60405180910390f35b34801561020557600080fd5b50610220600480360381019061021b9190612be2565b6108a6565b60405161022d9190613a24565b60405180910390f35b34801561024257600080fd5b5061024b610988565b6040516102589190613a3f565b60405180910390f35b34801561026d57600080fd5b5061028860048036038101906102839190612cc9565b610a1a565b60405161029591906139bd565b60405180910390f35b3480156102aa57600080fd5b506102c560048036038101906102c09190612ba6565b610a9f565b005b3480156102d357600080fd5b506102ee60048036038101906102e99190612aa0565b610bb7565b005b3480156102fc57600080fd5b5061031760048036038101906103129190612cc9565b610c17565b6040516103249190613a3f565b60405180910390f35b34801561033957600080fd5b50610354600480360381019061034f9190612cc9565b610c85565b6040516103619190613a24565b60405180910390f35b34801561037657600080fd5b50610391600480360381019061038c9190612cc9565b610dee565b005b34801561039f57600080fd5b506103ba60048036038101906103b59190612aa0565b610f2e565b005b3480156103c857600080fd5b506103e360048036038101906103de9190612cc9565b610f4e565b005b3480156103f157600080fd5b5061040c60048036038101906104079190612cc9565b610fd4565b60405161041991906139bd565b60405180910390f35b34801561042e57600080fd5b5061044960048036038101906104449190612a3b565b611086565b6040516104569190613de1565b60405180910390f35b34801561046b57600080fd5b5061047461113e565b005b34801561048257600080fd5b5061048b6111c6565b60405161049891906139bd565b60405180910390f35b3480156104ad57600080fd5b506104b66111f0565b6040516104c39190613a3f565b60405180910390f35b3480156104d857600080fd5b506104f360048036038101906104ee9190612b6a565b611282565b005b61050f600480360381019061050a9190612c75565b611298565b60405161051c9190613de1565b60405180910390f35b34801561053157600080fd5b5061054c60048036038101906105479190612cc9565b6112bb565b6040516105599190613a3f565b60405180910390f35b34801561056e57600080fd5b5061058960048036038101906105849190612aef565b6113a8565b005b34801561059757600080fd5b506105a061140a565b6040516105ad9190613de1565b60405180910390f35b3480156105c257600080fd5b506105dd60048036038101906105d89190612cc9565b611414565b6040516105ea9190613a3f565b60405180910390f35b3480156105ff57600080fd5b5061061a60048036038101906106159190612c34565b6114b9565b6040516106279190613a24565b60405180910390f35b61064a60048036038101906106459190612cc9565b6114ee565b6040516106579190613a24565b60405180910390f35b34801561066c57600080fd5b5061068760048036038101906106829190612cc9565b6117f4565b6040516106949190613de1565b60405180910390f35b3480156106a957600080fd5b506106c460048036038101906106bf9190612a64565b611867565b6040516106d19190613a24565b60405180910390f35b3480156106e657600080fd5b5061070160048036038101906106fc9190612a3b565b6118fb565b005b61071d60048036038101906107189190612c34565b6119f3565b60405161072a9190613de1565b60405180910390f35b600080821415610778576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161076f90613d41565b60405180910390fd5b61078183610fd4565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146107ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107e590613d61565b60405180910390fd5b6107f9600084610a9f565b816006600085815260200190815260200160002081905550336007600085815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f1ea45e30b31292f9d7c5d37d275b2feca555f13f47dce0fdea2f47e8852ecd788383604051610894929190613e25565b60405180910390a16001905092915050565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061097157507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b80610981575061098082611b69565b5b9050919050565b6060600080546109979061411f565b80601f01602080910402602001604051908101604052809291908181526020018280546109c39061411f565b8015610a105780601f106109e557610100808354040283529160200191610a10565b820191906000526020600020905b8154815290600101906020018083116109f357829003601f168201915b5050505050905090565b6000610a2582611bd3565b610a64576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5b90613be1565b60405180910390fd5b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b6000610aaa82610fd4565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610b1b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b1290613c61565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610b3a611c3f565b73ffffffffffffffffffffffffffffffffffffffff161480610b695750610b6881610b63611c3f565b611867565b5b610ba8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9f90613b61565b60405180910390fd5b610bb28383611c47565b505050565b610bc8610bc2611c3f565b82611d00565b610c07576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bfe90613cc1565b60405180910390fd5b610c12838383611dde565b505050565b606060006040518060400160405280601d81526020017f646174613a6170706c69636174696f6e2f6a736f6e3b6261736536342c000000815250905080610c5d846112bb565b604051602001610c6e92919061391d565b604051602081830303815290604052915050919050565b60008060066000848152602001908152602001600020541415610cdd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cd490613c41565b60405180910390fd5b610ce682610fd4565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610d53576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d4a90613a61565b60405180910390fd5b610d5e600083610a9f565b60066000838152602001908152602001600020600090556007600083815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690557f3ccb2ab6980b218b1dd4974b07365cd90a191e170c611da46262fecc208bd661826000604051610ddd929190613dfc565b60405180910390a160019050919050565b610df6611c3f565b73ffffffffffffffffffffffffffffffffffffffff16610e146111c6565b73ffffffffffffffffffffffffffffffffffffffff1614610e6a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e6190613c01565b60405180910390fd5b47811115610e7757600080fd5b6000610e816111c6565b73ffffffffffffffffffffffffffffffffffffffff1682604051610ea4906139a8565b60006040518083038185875af1925050503d8060008114610ee1576040519150601f19603f3d011682016040523d82523d6000602084013e610ee6565b606091505b5050905080610f2a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f2190613ce1565b60405180910390fd5b5050565b610f49838383604051806020016040528060008152506113a8565b505050565b610f56611c3f565b73ffffffffffffffffffffffffffffffffffffffff16610f746111c6565b73ffffffffffffffffffffffffffffffffffffffff1614610fca576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fc190613c01565b60405180910390fd5b80600c8190555050565b6000806002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141561107d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161107490613ba1565b60405180910390fd5b80915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156110f7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110ee90613b81565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b611146611c3f565b73ffffffffffffffffffffffffffffffffffffffff166111646111c6565b73ffffffffffffffffffffffffffffffffffffffff16146111ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111b190613c01565b60405180910390fd5b6111c46000612090565b565b6000600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6060600180546111ff9061411f565b80601f016020809104026020016040519081016040528092919081815260200182805461122b9061411f565b80156112785780601f1061124d57610100808354040283529160200191611278565b820191906000526020600020905b81548152906001019060200180831161125b57829003601f168201915b5050505050905090565b61129461128d611c3f565b8383612156565b5050565b6000806112a4846119f3565b90506112b08184610733565b508091505092915050565b60606112c682611bd3565b611305576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112fc90613c81565b60405180910390fd5b600b600083815260200190815260200160002080546113239061411f565b80601f016020809104026020016040519081016040528092919081815260200182805461134f9061411f565b801561139c5780601f106113715761010080835404028352916020019161139c565b820191906000526020600020905b81548152906001019060200180831161137f57829003601f168201915b50505050509050919050565b6113b96113b3611c3f565b83611d00565b6113f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113ef90613cc1565b60405180910390fd5b611404848484846122c3565b50505050565b6000600c54905090565b606060006040518060400160405280601d81526020017f646174613a6170706c69636174696f6e2f6a736f6e3b6261736536342c0000008152509050600061145b846112bb565b61146485610c17565b604051602001611475929190613958565b6040516020818303038152906040529050816114908261231f565b6040516020016114a192919061391d565b60405160208183030381529060405292505050919050565b6000600a826040516114cb9190613906565b908152602001604051809103902060009054906101000a900460ff169050919050565b60008060066000848152602001908152602001600020541415611546576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161153d90613c41565b60405180910390fd5b600660008381526020019081526020016000205434101561159c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161159390613ae1565b60405180910390fd5b60006007600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506000600660008581526020019081526020016000205490506007600085815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556006600085815260200190815260200160002060009055611644823386611dde565b60008273ffffffffffffffffffffffffffffffffffffffff168260405161166a906139a8565b60006040518083038185875af1925050503d80600081146116a7576040519150601f19603f3d011682016040523d82523d6000602084013e6116ac565b606091505b50509050806116f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116e790613dc1565b60405180910390fd5b7f3ccb2ab6980b218b1dd4974b07365cd90a191e170c611da46262fecc208bd6618583604051611721929190613e25565b60405180910390a1813411156117e9573373ffffffffffffffffffffffffffffffffffffffff1682346117549190614023565b604051611760906139a8565b60006040518083038185875af1925050503d806000811461179d576040519150601f19603f3d011682016040523d82523d6000602084013e6117a2565b606091505b505080915050806117e8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117df90613d81565b60405180910390fd5b5b809350505050919050565b6000806006600084815260200190815260200160002054141561184c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161184390613c41565b60405180910390fd5b60066000838152602001908152602001600020549050919050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b611903611c3f565b73ffffffffffffffffffffffffffffffffffffffff166119216111c6565b73ffffffffffffffffffffffffffffffffffffffff1614611977576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161196e90613c01565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156119e7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119de90613aa1565b60405180910390fd5b6119f081612090565b50565b6000600c54341015611a3a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a3190613d01565b60405180910390fd5b6000825111611a7e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a7590613ca1565b60405180910390fd5b611a87826114b9565b15611ac7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611abe90613da1565b60405180910390fd5b6000611ad360096124be565b9050611adf60096124cc565b82600b60008381526020019081526020016000209080519060200190611b0692919061285f565b506000600b600083815260200190815260200160002090506001600a82604051611b309190613941565b908152602001604051809103902060006101000a81548160ff021916908315150217905550611b5f33836124e2565b8192505050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b60008073ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16611cba83610fd4565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b6000611d0b82611bd3565b611d4a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d4190613b41565b60405180910390fd5b6000611d5583610fd4565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480611dc457508373ffffffffffffffffffffffffffffffffffffffff16611dac84610a1a565b73ffffffffffffffffffffffffffffffffffffffff16145b80611dd55750611dd48185611867565b5b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff16611dfe82610fd4565b73ffffffffffffffffffffffffffffffffffffffff1614611e54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e4b90613c21565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611ec4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ebb90613b01565b60405180910390fd5b6000600660008381526020019081526020016000205414611f1a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f1190613d21565b60405180910390fd5b611f258383836126b0565b611f30600082611c47565b6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611f809190614023565b925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611fd79190613f42565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b6000600860009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600860006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156121c5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016121bc90613b21565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516122b69190613a24565b60405180910390a3505050565b6122ce848484611dde565b6122da848484846126b5565b612319576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161231090613a81565b60405180910390fd5b50505050565b6060600082511415612342576040518060200160405280600081525090506124b9565b600060405180606001604052806040815260200161427b60409139905060006003600285516123719190613f42565b61237b9190613f98565b60046123879190613fc9565b905060006020826123989190613f42565b67ffffffffffffffff8111156123d7577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040519080825280601f01601f1916602001820160405280156124095781602001600182028036833780820191505090505b509050818152600183018586518101602084015b81831015612478576003830192508251603f8160121c168501518253600182019150603f81600c1c168501518253600182019150603f8160061c168501518253600182019150603f811685015182536001820191505061241d565b60038951066001811461249257600281146124a2576124ad565b613d3d60f01b60028303526124ad565b603d60f81b60018303525b50505050508093505050505b919050565b600081600001549050919050565b6001816000016000828254019250508190555050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415612552576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161254990613bc1565b60405180910390fd5b61255b81611bd3565b1561259b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161259290613ac1565b60405180910390fd5b6125a7600083836126b0565b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546125f79190613f42565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b505050565b60006126d68473ffffffffffffffffffffffffffffffffffffffff1661284c565b1561283f578373ffffffffffffffffffffffffffffffffffffffff1663150b7a026126ff611c3f565b8786866040518563ffffffff1660e01b815260040161272194939291906139d8565b602060405180830381600087803b15801561273b57600080fd5b505af192505050801561276c57506040513d601f19601f820116820180604052508101906127699190612c0b565b60015b6127ef573d806000811461279c576040519150601f19603f3d011682016040523d82523d6000602084013e6127a1565b606091505b506000815114156127e7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127de90613a81565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614915050612844565b600190505b949350505050565b600080823b905060008111915050919050565b82805461286b9061411f565b90600052602060002090601f01602090048101928261288d57600085556128d4565b82601f106128a657805160ff19168380011785556128d4565b828001600101855582156128d4579182015b828111156128d35782518255916020019190600101906128b8565b5b5090506128e191906128e5565b5090565b5b808211156128fe5760008160009055506001016128e6565b5090565b600061291561291084613e7f565b613e4e565b90508281526020810184848401111561292d57600080fd5b6129388482856140dd565b509392505050565b600061295361294e84613eaf565b613e4e565b90508281526020810184848401111561296b57600080fd5b6129768482856140dd565b509392505050565b60008135905061298d8161421e565b92915050565b6000813590506129a281614235565b92915050565b6000813590506129b78161424c565b92915050565b6000815190506129cc8161424c565b92915050565b600082601f8301126129e357600080fd5b81356129f3848260208601612902565b91505092915050565b600082601f830112612a0d57600080fd5b8135612a1d848260208601612940565b91505092915050565b600081359050612a3581614263565b92915050565b600060208284031215612a4d57600080fd5b6000612a5b8482850161297e565b91505092915050565b60008060408385031215612a7757600080fd5b6000612a858582860161297e565b9250506020612a968582860161297e565b9150509250929050565b600080600060608486031215612ab557600080fd5b6000612ac38682870161297e565b9350506020612ad48682870161297e565b9250506040612ae586828701612a26565b9150509250925092565b60008060008060808587031215612b0557600080fd5b6000612b138782880161297e565b9450506020612b248782880161297e565b9350506040612b3587828801612a26565b925050606085013567ffffffffffffffff811115612b5257600080fd5b612b5e878288016129d2565b91505092959194509250565b60008060408385031215612b7d57600080fd5b6000612b8b8582860161297e565b9250506020612b9c85828601612993565b9150509250929050565b60008060408385031215612bb957600080fd5b6000612bc78582860161297e565b9250506020612bd885828601612a26565b9150509250929050565b600060208284031215612bf457600080fd5b6000612c02848285016129a8565b91505092915050565b600060208284031215612c1d57600080fd5b6000612c2b848285016129bd565b91505092915050565b600060208284031215612c4657600080fd5b600082013567ffffffffffffffff811115612c6057600080fd5b612c6c848285016129fc565b91505092915050565b60008060408385031215612c8857600080fd5b600083013567ffffffffffffffff811115612ca257600080fd5b612cae858286016129fc565b9250506020612cbf85828601612a26565b9150509250929050565b600060208284031215612cdb57600080fd5b6000612ce984828501612a26565b91505092915050565b60008060408385031215612d0557600080fd5b6000612d1385828601612a26565b9250506020612d2485828601612a26565b9150509250929050565b612d3781614057565b82525050565b612d4681614069565b82525050565b6000612d5782613ef4565b612d618185613f0a565b9350612d718185602086016140ec565b612d7a8161420d565b840191505092915050565b612d8e816140cb565b82525050565b6000612d9f82613eff565b612da98185613f26565b9350612db98185602086016140ec565b612dc28161420d565b840191505092915050565b6000612dd882613eff565b612de28185613f37565b9350612df28185602086016140ec565b80840191505092915050565b60008154612e0b8161411f565b612e158186613f37565b94506001821660008114612e305760018114612e4157612e74565b60ff19831686528186019350612e74565b612e4a85613edf565b60005b83811015612e6c57815481890152600182019150602081019050612e4d565b838801955050505b50505092915050565b6000612e8a603d83613f26565b91507f796f7520617265206e6f7420746865206f776e6572206f66207468697320746f60008301527f6b656e2c20736f20796f752063616e6e6f742064652d6c6973742069740000006020830152604082019050919050565b6000612ef0600b83613f37565b91507f0922696d616765223a20220000000000000000000000000000000000000000006000830152600b82019050919050565b6000612f30603283613f26565b91507f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008301527f63656976657220696d706c656d656e74657200000000000000000000000000006020830152604082019050919050565b6000612f96602683613f26565b91507f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008301527f64647265737300000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000612ffc601c83613f26565b91507f4552433732313a20746f6b656e20616c7265616479206d696e746564000000006000830152602082019050919050565b600061303c601283613f26565b91507f696e73756666696369656e742076616c756500000000000000000000000000006000830152602082019050919050565b600061307c602483613f26565b91507f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008301527f72657373000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b60006130e2601983613f26565b91507f4552433732313a20617070726f766520746f2063616c6c6572000000000000006000830152602082019050919050565b6000613122602c83613f26565b91507f4552433732313a206f70657261746f7220717565727920666f72206e6f6e657860008301527f697374656e7420746f6b656e00000000000000000000000000000000000000006020830152604082019050919050565b6000613188603883613f26565b91507f4552433732313a20617070726f76652063616c6c6572206973206e6f74206f7760008301527f6e6572206e6f7220617070726f76656420666f7220616c6c00000000000000006020830152604082019050919050565b60006131ee602a83613f26565b91507f4552433732313a2062616c616e636520717565727920666f7220746865207a6560008301527f726f2061646472657373000000000000000000000000000000000000000000006020830152604082019050919050565b6000613254602983613f26565b91507f4552433732313a206f776e657220717565727920666f72206e6f6e657869737460008301527f656e7420746f6b656e00000000000000000000000000000000000000000000006020830152604082019050919050565b60006132ba602083613f26565b91507f4552433732313a206d696e7420746f20746865207a65726f20616464726573736000830152602082019050919050565b60006132fa602c83613f26565b91507f4552433732313a20617070726f76656420717565727920666f72206e6f6e657860008301527f697374656e7420746f6b656e00000000000000000000000000000000000000006020830152604082019050919050565b6000613360602083613f26565b91507f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726000830152602082019050919050565b60006133a0600c83613f37565b91507f7b0a09226e616d65223a202200000000000000000000000000000000000000006000830152600c82019050919050565b60006133e0602983613f26565b91507f4552433732313a207472616e73666572206f6620746f6b656e2074686174206960008301527f73206e6f74206f776e00000000000000000000000000000000000000000000006020830152604082019050919050565b6000613446601283613f26565b91507f746f6b656e206e6f7420666f722073616c6500000000000000000000000000006000830152602082019050919050565b6000613486600283613f37565b91507f220a0000000000000000000000000000000000000000000000000000000000006000830152600282019050919050565b60006134c6602183613f26565b91507f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008301527f72000000000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b600061352c601783613f26565b91507f546f6b656e494420646f6573206e6f74206578697374210000000000000000006000830152602082019050919050565b600061356c601683613f26565b91507f737472696e672063616e6e6f7420626520656d707479000000000000000000006000830152602082019050919050565b60006135ac600083613f1b565b9150600082019050919050565b60006135c6603183613f26565b91507f4552433732313a207472616e736665722063616c6c6572206973206e6f74206f60008301527f776e6572206e6f7220617070726f7665640000000000000000000000000000006020830152604082019050919050565b600061362c601e83613f26565b91507f7472616e73616374696f6e20646964206e6f7420676f207468726f75676800006000830152602082019050919050565b600061366c601683613f26565b91507f7061796d656e74206e6f742073756666696369656e74000000000000000000006000830152602082019050919050565b60006136ac604c83613f26565b91507f5468697320746f6b656e20697320757020666f722073616c652c206974206d7560008301527f73742062652064652d6c6973746564206265666f72652069742063616e20626560208301527f207472616e7366657272656400000000000000000000000000000000000000006040830152606082019050919050565b6000613738601f83613f26565b91507f7072696365206d7573742062652067726561746572207468616e207a65726f006000830152602082019050919050565b6000613778603883613f26565b91507f796f7520617265206e6f7420746865206f776e6572206f66207468697320746f60008301527f6b656e2c20796f752063616e206e6f742073656c6c20697400000000000000006020830152604082019050919050565b60006137de600283613f37565b91507f0a7d0000000000000000000000000000000000000000000000000000000000006000830152600282019050919050565b600061381e600d83613f26565b91507f726566756e64206661696c6564000000000000000000000000000000000000006000830152602082019050919050565b600061385e602383613f26565b91507f7468697320737472696e672068617320616c7265616479206265656e206d696e60008301527f74656400000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b60006138c4601283613f26565b91507f7472616e73616374696f6e206661696c656400000000000000000000000000006000830152602082019050919050565b613900816140c1565b82525050565b60006139128284612dcd565b915081905092915050565b60006139298285612dcd565b91506139358284612dcd565b91508190509392505050565b600061394d8284612dfe565b915081905092915050565b600061396382613393565b915061396f8285612dcd565b915061397a82613479565b915061398582612ee3565b91506139918284612dcd565b915061399c826137d1565b91508190509392505050565b60006139b38261359f565b9150819050919050565b60006020820190506139d26000830184612d2e565b92915050565b60006080820190506139ed6000830187612d2e565b6139fa6020830186612d2e565b613a0760408301856138f7565b8181036060830152613a198184612d4c565b905095945050505050565b6000602082019050613a396000830184612d3d565b92915050565b60006020820190508181036000830152613a598184612d94565b905092915050565b60006020820190508181036000830152613a7a81612e7d565b9050919050565b60006020820190508181036000830152613a9a81612f23565b9050919050565b60006020820190508181036000830152613aba81612f89565b9050919050565b60006020820190508181036000830152613ada81612fef565b9050919050565b60006020820190508181036000830152613afa8161302f565b9050919050565b60006020820190508181036000830152613b1a8161306f565b9050919050565b60006020820190508181036000830152613b3a816130d5565b9050919050565b60006020820190508181036000830152613b5a81613115565b9050919050565b60006020820190508181036000830152613b7a8161317b565b9050919050565b60006020820190508181036000830152613b9a816131e1565b9050919050565b60006020820190508181036000830152613bba81613247565b9050919050565b60006020820190508181036000830152613bda816132ad565b9050919050565b60006020820190508181036000830152613bfa816132ed565b9050919050565b60006020820190508181036000830152613c1a81613353565b9050919050565b60006020820190508181036000830152613c3a816133d3565b9050919050565b60006020820190508181036000830152613c5a81613439565b9050919050565b60006020820190508181036000830152613c7a816134b9565b9050919050565b60006020820190508181036000830152613c9a8161351f565b9050919050565b60006020820190508181036000830152613cba8161355f565b9050919050565b60006020820190508181036000830152613cda816135b9565b9050919050565b60006020820190508181036000830152613cfa8161361f565b9050919050565b60006020820190508181036000830152613d1a8161365f565b9050919050565b60006020820190508181036000830152613d3a8161369f565b9050919050565b60006020820190508181036000830152613d5a8161372b565b9050919050565b60006020820190508181036000830152613d7a8161376b565b9050919050565b60006020820190508181036000830152613d9a81613811565b9050919050565b60006020820190508181036000830152613dba81613851565b9050919050565b60006020820190508181036000830152613dda816138b7565b9050919050565b6000602082019050613df660008301846138f7565b92915050565b6000604082019050613e1160008301856138f7565b613e1e6020830184612d85565b9392505050565b6000604082019050613e3a60008301856138f7565b613e4760208301846138f7565b9392505050565b6000604051905081810181811067ffffffffffffffff82111715613e7557613e746141de565b5b8060405250919050565b600067ffffffffffffffff821115613e9a57613e996141de565b5b601f19601f8301169050602081019050919050565b600067ffffffffffffffff821115613eca57613ec96141de565b5b601f19601f8301169050602081019050919050565b60008190508160005260206000209050919050565b600081519050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600081905092915050565b6000613f4d826140c1565b9150613f58836140c1565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115613f8d57613f8c614151565b5b828201905092915050565b6000613fa3826140c1565b9150613fae836140c1565b925082613fbe57613fbd614180565b5b828204905092915050565b6000613fd4826140c1565b9150613fdf836140c1565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561401857614017614151565b5b828202905092915050565b600061402e826140c1565b9150614039836140c1565b92508282101561404c5761404b614151565b5b828203905092915050565b6000614062826140a1565b9050919050565b60008115159050919050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006140d6826140c1565b9050919050565b82818337600083830152505050565b60005b8381101561410a5780820151818401526020810190506140ef565b83811115614119576000848401525b50505050565b6000600282049050600182168061413757607f821691505b6020821081141561414b5761414a6141af565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b61422781614057565b811461423257600080fd5b50565b61423e81614069565b811461424957600080fd5b50565b61425581614075565b811461426057600080fd5b50565b61426c816140c1565b811461427757600080fd5b5056fe4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2fa2646970667358221220e0b740928063667d99a741a0319d7ff877f5d8982c2a148a14abcef1202b75bb64736f6c63430008000033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}


'''

#mydb = mysql.connector.connect(host="localhost", user="test_user", password="test_user", database="inwriting", port = 8888, unix_socket='/Applications/MAMP/tmp/mysql/mysql.sock')
#mydb = mysql.connector.connect(host="127.0.0.1", user="test_user", password="test_user", database="aurora")

mydb = mysql.connector.connect(host="localhost", user="test_user", password="test_user", database="inwriting")
                               #, port = 8888, unix_socket='/Applications/MAMP/tmp/mysql/mysql.sock')
mycursor = mydb.cursor()
url = "https://eth-ropsten.alchemyapi.io/v2/8BhLEDbT6LTNE_qKOPFEt6Y7O7ahURik"
web3 = Web3(Web3.HTTPProvider(url))
abi = json.loads(contract_string)['abi']
address = '0x4c881B2eb7182CbcFf9AF0Cbf903d02e712DD3a1'


def getStringFromTokenID(tokenID):
    contract = web3.eth.contract(address=address, abi=abi)
    s = contract.functions.getString(int(tokenID)).call()
    return s


class Fetch:
    def __init__(self, key, network=None) -> None:
        if network not in [None, 'main', 'ropsten']:
            raise AttributeError('not a valid network! please choose main or ropsten')

        self.key = key
        self.eth = Etherscan(key, net=network)
        return

    def contractTransfers(self, address, num) -> dict:
        txns = self.eth.get_erc721_token_transfer_events_by_contract_address_paginated(
            contract_address=address,
            page='1',
            offset=str(num),
            sort='desc'
        )

        return txns

    def topTransfers(self, address, backlog, num) -> dict:
        txns = self.contractTransfers(address, backlog)

        top = dict()
        for i in txns:
            tokenID = int(i['tokenID'])
            if i['from'] == '0x0000000000000000000000000000000000000000':
                continue

            if tokenID in top:
                top[tokenID] += 1
            else:
                top[tokenID] = 1

        top = {k: v for k, v in sorted(top.items(), key=lambda item: item[1], reverse=True)[:num]}

        return top

    def recentTransfers(self, address, num) -> list:
        txns = self.contractTransfers(address, num)

        return [int(i['tokenID']) for i in txns if int(i['from'], 16) != 0]

    def recentlyMinted(self, address, num) -> list:
        txns = self.contractTransfers(address, num)

        return [int(i['tokenID']) for i in txns if int(i['from'], 16) == 0]

    def ownedNFTS(self, contract, address):
        txns = self.eth.get_erc721_token_transfer_events_by_address_and_contract_paginated(
            contract_address=contract,
            address=address,
            page='1',
            offset='10000',
            sort='desc'
        )

        _in = dict()
        for i in txns:
            tokenID = int(i['tokenID'])
            if i['from'] == address.lower():
                continue

            if tokenID in _in:
                _in[tokenID] += 1
            else:
                _in[tokenID] = 1

        _out = dict()
        for i in txns:
            tokenID = int(i['tokenID'])
            if i['to'] == address.lower():
                continue

            if tokenID in _out:
                _out[tokenID] += 1
            else:
                _out[tokenID] = 1

        for i in _out.keys():
            if i in _in:
                _in[i] -= _out[i]

        return [i for i in _in.keys() if _in[i] > 0]

    def cleanTxns(self, address, num):
        txns = self.contractTransfers(address, num)

        out = []
        for i in txns:
            event = ''
            if int(i['from'], 16) == 0:
                event = 'mint'
            elif int(i['to'], 16) == 0:
                event = 'burn'
            else:
                event = 'transfer'

            out.append({'event': event, 'price': 0, 'to': i['to'], 'from': i['from'], 'time': i['timeStamp']})

        return out

    def contractTransfersWithEvent(self, address, num):
        txns = self.contractTransfers(address, num)

        for i in txns:
            event = ''
            if int(i['from'], 16) == 0:
                event = 'mint'
            elif int(i['to'], 16) == 0:
                event = 'burn'
            else:
                event = 'transfer'

            i['event'] = event

        return txns


if __name__ == '__main__':
    key = 'RM26JUXM7U7VXTX5D77KWVA5IAN7TJUDEZ'

    testing = False

    network = 'main' if testing else 'ropsten'

    mine = '0x4c881B2eb7182CbcFf9AF0Cbf903d02e712DD3a1'
    monkeys = '0x960b7a6BCD451c9968473f7bbFd9Be826EFd549A'
    neolastics = '0xB2D6fb1Dc231F97F8cC89467B52F7C4F78484044'
    addy = '0xD24Ee729283B3F6D7d6E594D02ef197556d15BA5'

    contract = monkeys if testing else mine

    fetch = Fetch(key, network)

    # print(fetch.topTransfers(contract, 100, 10))
    # print(fetch.recentTransfers(contract, 10))
    # print(fetch.recentlyMinted(contract, 100))
    # print(fetch.ownedNFTS(contract, addy))

    #print(fetch.cleanTxns(contract, 10))  # this is just the essentials
    #print(fetch.contractTransfersWithEvent(contract, 10))  # this is the whole thing

    most_recent = fetch.contractTransfersWithEvent(contract, 100)
    most_recent.reverse() # NOTE TO SELF - THIS IS SORTING IN ASCENDING ORDER SO THE LEAST RECENT OF MOST RECENT GOES FIRST
    #print(most_recent)
    keys = most_recent[0].keys()
    for event in most_recent:
        try:
            print(event)
            ev = []
            for key in keys:
                ev.append(event[key])
            #print(ev)
            tokenString = getStringFromTokenID(event['tokenID'])
            sql = "INSERT INTO blockchain (blockNumber, timeStamp, hash, nonce, blockHash, fromAddress, contractAddress, toAddress, tokenID, tokenName, tokenSymbol, tokenDecimal, transactionIndex, gas, gasPrice, gasUsed, cumulativeGasUsed, input, confirmations, event, tokenString) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)"
            val = (ev[0], ev[1], ev[2], ev[3], ev[4], ev[5], ev[6], ev[7], ev[8], ev[9], ev[10], ev[11], ev[12], ev[13], ev[14], ev[15], ev[16], ev[17], ev[18], ev[19], tokenString)
            mycursor.execute(sql, val)
            mydb.commit()

            if event['event'] == 'mint':
                sql = "INSERT INTO owners (tokenID, tokenString, owner) VALUES (%s, %s, %s)"
                val = (event['tokenID'], tokenString, event['to'])
                mycursor.execute(sql, val)
                mydb.commit()

            if event['event'] == 'transfer':
                sql = "UPDATE owners SET owner = %s WHERE tokenID = %s"
                val = (event['to'], event['tokenID'])
                mycursor.execute(sql, val)
                mydb.commit()

        except mysql.connector.Error as err:
            print(err)
            if err.errno == 1062:
                print("Up to date.")
                
            else:
                print("ERORR: Skipped for other reasons")







    # get string from tokenID
    '''
    blockNumber
    timeStamp
    hash
    nonce
    blockHash
    from
    contractAddress
    to
    tokenID
    tokenName
    tokenSymbol
    tokenDecimal
    transactionIndex
    gas
    gasPrice
    gasUsed
    cumulativeGasUsed
    input
    confirmations
    event
    '''
